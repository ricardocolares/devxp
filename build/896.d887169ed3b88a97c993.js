"use strict";(self.webpackChunkpayload_blog_typescript=self.webpackChunkpayload_blog_typescript||[]).push([[896],{22158:(e,a,l)=>{l.d(a,{z:()=>c});var t=l(67294),r=l(68133),n=l(87319),i=l(65821);l(3064);const o=({className:e})=>t.createElement("svg",{className:["icon icon--drag-handle",e].filter(Boolean).join(" "),viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg"},t.createElement("circle",{cx:"10.468",cy:"14.5",r:"1",className:"fill"}),t.createElement("circle",{cx:"14.532",cy:"14.5",r:"1",className:"fill"}),t.createElement("circle",{cx:"10.468",cy:"11.35",r:"1",className:"fill"}),t.createElement("circle",{cx:"14.532",cy:"11.35",r:"1",className:"fill"}),t.createElement("circle",{cx:"10.468",cy:"8.3",r:"1",className:"fill"}),t.createElement("circle",{cx:"14.532",cy:"8.3",r:"1",className:"fill"}));l(8160);const s="collapsible",c=({children:e,collapsed:a,onToggle:l,className:c,header:d,initCollapsed:u,dragHandleProps:m,actions:p})=>{const[v,h]=(0,t.useState)(Boolean(u)),[f,E]=(0,t.useState)(!1),g=(0,n.uR)(),y="boolean"==typeof a?a:v;return t.createElement("div",{className:[s,c,m&&`${s}--has-drag-handle`,y&&`${s}--collapsed`,g&&`${s}--nested`,f&&`${s}--hovered`].filter(Boolean).join(" ")},t.createElement(n.h9,null,t.createElement("div",{className:`${s}__toggle-wrap`,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1)},m&&t.createElement("div",{className:`${s}__drag`,...m},t.createElement(o,null)),t.createElement("button",{type:"button",className:[`${s}__toggle`,`${s}__toggle--${y?"collapsed":"open"}`].filter(Boolean).join(" "),onClick:()=>{"function"==typeof l&&l(!y),h(!y)}},t.createElement("span",null,"Toggle block")),d&&t.createElement("div",{className:[`${s}__header-wrap`,m&&`${s}__header-wrap--has-drag-handle`].filter(Boolean).join(" ")},d&&d),t.createElement("div",{className:`${s}__actions-wrap`},p&&t.createElement("div",{className:`${s}__actions`},p),t.createElement(i.Z,{className:`${s}__indicator`}))),t.createElement(r.Z,{height:y?0:"auto",duration:200},t.createElement("div",{className:`${s}__content`},e))))}},87319:(e,a,l)=>{l.d(a,{h9:()=>n,uR:()=>i});var t=l(67294);const r=(0,t.createContext)(!1),n=({children:e,withinCollapsible:a=!0})=>t.createElement(r.Provider,{value:a},e),i=()=>(0,t.useContext)(r)},55532:(e,a,l)=>{l.d(a,{Z:()=>i});var t=l(67294),r=l(51265),n=l(70579);l(28362);const i=({value:e,defaultMessage:a="copy",successMessage:l="copied"})=>{const i=(0,t.useRef)(null),[o,s]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{o&&!c&&setTimeout((()=>{s(!1)}),1500)}),[o,c]),e?t.createElement("button",{onMouseEnter:()=>{d(!0),s(!1)},onMouseLeave:()=>{d(!1),s(!1)},type:"button",className:"copy-to-clipboard",onClick:()=>{i&&i.current&&(i.current.select(),i.current.setSelectionRange(0,e.length+1),document.execCommand("copy"),s(!0))}},t.createElement(r.Z,null),t.createElement(n.Z,null,o&&l,!o&&a),t.createElement("textarea",{readOnly:!0,value:e,ref:i})):null}},29580:(e,a,l)=>{l.d(a,{Z:()=>v});var t=l(67294),r=l(68133),n=l(73559),i=l(77329),o=l(9980),s=l(55532),c=l(55976);l(85228);const d="file-meta",u=e=>{const{filename:a,filesize:l,width:r,height:n,mimeType:i,staticURL:u,url:m}=e,{serverURL:p}=(0,o.Z)(),v=m||`${p}${u}/${a}`;return t.createElement("div",{className:d},t.createElement("div",{className:"file-meta__url"},t.createElement("a",{href:v,target:"_blank",rel:"noopener noreferrer"},a),t.createElement(s.Z,{value:v,defaultMessage:"Copy URL"})),t.createElement("div",{className:"file-meta__size-type"},(0,c.Z)(l),r&&n&&t.createElement(t.Fragment,null," - ",r,"x",n),i&&t.createElement(t.Fragment,null," - ",i)))};var m=l(65821);l(90516);const p="file-details",v=e=>{var a;const{doc:l,collection:o,handleRemove:s}=e,{upload:{staticURL:c}}=o,{filename:d,filesize:v,width:h,height:f,mimeType:E,sizes:g,url:y}=l,[b,w]=(0,t.useState)(!1),_=g&&(null===(a=Object.keys(g))||void 0===a?void 0:a.length)>0;return t.createElement("div",{className:p},t.createElement("header",null,t.createElement(n.Z,{doc:l,collection:o}),t.createElement("div",{className:"file-details__main-detail"},t.createElement(u,{staticURL:c,filename:d,filesize:v,width:h,height:f,mimeType:E,url:y}),_&&t.createElement(i.Z,{className:"file-details__toggle-more-info"+(b?" open":""),buttonStyle:"none",onClick:()=>w(!b)},!b&&t.createElement(t.Fragment,null,"More info",t.createElement(m.Z,null)),b&&t.createElement(t.Fragment,null,"Less info",t.createElement(m.Z,null)))),s&&t.createElement(i.Z,{icon:"x",round:!0,buttonStyle:"icon-label",iconStyle:"with-border",onClick:s,className:"file-details__remove"})),_&&t.createElement(r.Z,{className:"file-details__more-info",height:b?"auto":0},t.createElement("ul",{className:"file-details__sizes"},Object.entries(g).map((([e,a])=>(null==a?void 0:a.filename)?t.createElement("li",{key:e},t.createElement("div",{className:"file-details__size-label"},e),t.createElement(u,{...a,mimeType:E,staticURL:c})):null)))))}},77070:(e,a,l)=>{l.d(a,{Z:()=>i});var t=l(67294),r=l(12049);l(14120);const n="field-description",i=e=>{const{className:a,description:l,value:i}=e;if((0,r.isComponent)(l)){const e=l;return t.createElement(e,{value:i})}return l?t.createElement("div",{className:[n,a].filter(Boolean).join(" ")},"function"==typeof l?l({value:i}):l):null}},12049:function(e,a,l){var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0}),a.isComponent=void 0;const r=t(l(67294));a.isComponent=function(e){return r.default.isValidElement(e)}},5590:(e,a,l)=>{l.d(a,{Z:()=>d});var t=l(67294),r=l(2143),n=l(47444),i=l(83780),o=l(9684);const s="render-fields",c={rootMargin:"1000px"},d=e=>{var a;const{fieldSchema:l,fieldTypes:d,filter:u,permissions:m,readOnly:p,className:v,forceRender:h}=e,[f,E]=(0,t.useState)(!1),[g,y]=(0,n.Z)(c),b=(0,o.T)(),w=Boolean(null==y?void 0:y.isIntersecting),_=(null===(a=null==y?void 0:y.boundingClientRect)||void 0===a?void 0:a.top)<0,$=h||w||_;(0,t.useEffect)((()=>{$&&!f&&E(!0)}),[$,f]);const Z=[s,v].filter(Boolean).join(" ");return l?t.createElement("div",{ref:g,className:Z},f&&l.map(((e,a)=>{var l,n,o,s,c,v,h,f;const E=(0,i.fieldIsPresentationalOnly)(e);let g=d[e.type];if(E||!(null==e?void 0:e.hidden)&&!0!==(null===(l=null==e?void 0:e.admin)||void 0===l?void 0:l.disabled)){if(u&&"function"==typeof u&&u(e)||!u){if(E)return t.createElement(g,{...e,key:a});(null===(n=null==e?void 0:e.admin)||void 0===n?void 0:n.hidden)&&(g=d.hidden);const l=(0,i.fieldAffectsData)(e),u=l?null==m?void 0:m[e.name]:m;let{admin:{readOnly:y}={}}=e;if(p&&!1!==y&&(y=!0),l&&!1!==(null===(s=null===(o=null==m?void 0:m[null==e?void 0:e.name])||void 0===o?void 0:o.read)||void 0===s?void 0:s.permission)||!l)return l&&!1===(null===(v=null===(c=null==m?void 0:m[null==e?void 0:e.name])||void 0===c?void 0:c[b])||void 0===v?void 0:v.permission)&&(y=!0),g?t.createElement(r.Z,{key:a,CustomComponent:null===(f=null===(h=null==e?void 0:e.admin)||void 0===h?void 0:h.components)||void 0===f?void 0:f.Field,DefaultComponent:g,componentProps:{...e,path:e.path||(l?e.name:void 0),fieldTypes:d,admin:{...e.admin||{},readOnly:y},permissions:u}}):t.createElement("div",{className:"missing-field",key:a},"No matched field found for"," ",'"',e.label,'"')}return null}return null}))):null}},75212:(e,a,l)=>{l.d(a,{Z:()=>m});var t=l(67294),r=l(48170),n=l(90546),i=l.n(n),o=l(90666),s=l(35193),c=l(26128),d=l(77070);l(4198);const u="checkbox",m=i()((e=>{const{name:a,path:l,validate:n=s.checkbox,label:i,onChange:m,disableFormData:p,required:v,admin:{readOnly:h,style:f,className:E,width:g,description:y,condition:b}={}}=e,w=l||a,_=(0,t.useCallback)(((e,a)=>n(e,{...a,required:v})),[n,v]),{value:$,showError:Z,errorMessage:N,setValue:C}=(0,r.Z)({path:w,validate:_,disableFormData:p,condition:b});return t.createElement("div",{className:["field-type",u,Z&&"error",E,$&&`${u}--checked`,h&&`${u}--read-only`].filter(Boolean).join(" "),style:{...f,width:g}},t.createElement("div",{className:`${u}__error-wrap`},t.createElement(o.Z,{showError:Z,message:N})),t.createElement("input",{id:`field-${w.replace(/\./gi,"__")}`,type:"checkbox",name:w,checked:Boolean($),readOnly:!0}),t.createElement("button",{type:"button",onClick:h?void 0:()=>{C(!$),"function"==typeof m&&m(!$)}},t.createElement("span",{className:`${u}__input`},t.createElement(c.Z,null)),t.createElement("span",{className:`${u}__label`},i)),t.createElement(d.Z,{value:$,description:y}))}))},74007:(e,a,l)=>{l.d(a,{Z:()=>s});var t=l(67294),r=l(48170),n=l(953),i=l(90666),o=l(64012);l(89013);const s=()=>{const{getField:e}=(0,o.useWatchForm)(),a=e("password"),l=(0,t.useCallback)((e=>e===(null==a?void 0:a.value)||"Passwords do not match."),[a]),{value:s,showError:c,setValue:d,errorMessage:u}=(0,r.Z)({path:"confirm-password",disableFormData:!0,validate:l,enableDebouncedValue:!0}),m=["field-type","confirm-password",c&&"error"].filter(Boolean).join(" ");return t.createElement("div",{className:m},t.createElement(i.Z,{showError:c,message:u}),t.createElement(n.Z,{htmlFor:"field-confirm-password",label:"Confirm Password",required:!0}),t.createElement("input",{value:s||"",onChange:d,type:"password",autoComplete:"off",id:"field-confirm-password",name:"confirm-password"}))}},28571:(e,a,l)=>{l.d(a,{Z:()=>u});var t=l(67294),r=l(90546),n=l.n(r),i=l(48170),o=l(953),s=l(90666),c=l(77070),d=l(35193);l(25786);const u=n()((e=>{const{name:a,path:l,required:r,validate:n=d.email,admin:{readOnly:u,style:m,className:p,width:v,placeholder:h,autoComplete:f,description:E,condition:g}={},label:y}=e,b=l||a,w=(0,t.useCallback)(((e,a)=>n(e,{...a,required:r})),[n,r]),_=(0,i.Z)({path:b,validate:w,enableDebouncedValue:!0,condition:g}),{value:$,showError:Z,setValue:N,errorMessage:C}=_,k=["field-type","email",p,Z&&"error",u&&"read-only"].filter(Boolean).join(" ");return t.createElement("div",{className:k,style:{...m,width:v}},t.createElement(s.Z,{showError:Z,message:C}),t.createElement(o.Z,{htmlFor:`field-${b.replace(/\./gi,"__")}`,label:y,required:r}),t.createElement("input",{id:`field-${b.replace(/\./gi,"__")}`,value:$||"",onChange:N,disabled:Boolean(u),placeholder:h,type:"email",name:b,autoComplete:f}),t.createElement(c.Z,{value:$,description:E}))}))},74020:(e,a,l)=>{l.d(a,{Z:()=>i});var t=l(67294),r=l(48170),n=l(90546);const i=l.n(n)()((e=>{const{name:a,path:l,value:n,disableModifyingForm:i=!0}=e,o=l||a,{value:s,setValue:c}=(0,r.Z)({path:o});return(0,t.useEffect)((()=>{void 0!==n&&c(n,i)}),[n,c,i]),t.createElement("input",{id:`field-${o.replace(/\./gi,"__")}`,type:"hidden",value:s||"",onChange:c,name:o})}))},76067:(e,a,l)=>{l.d(a,{Z:()=>d});var t=l(67294),r=l(48170),n=l(953),i=l(90666),o=l(90546),s=l.n(o),c=l(35193);l(8108);const d=s()((e=>{const{path:a,name:l,required:o,validate:s=c.password,style:d,className:u,width:m,autoComplete:p,label:v}=e,h=a||l,f=(0,t.useCallback)(((e,a)=>s(e,{...a,required:o})),[s,o]),{value:E,showError:g,formProcessing:y,setValue:b,errorMessage:w}=(0,r.Z)({path:h,validate:f,enableDebouncedValue:!0}),_=["field-type","password",u,g&&"error"].filter(Boolean).join(" ");return t.createElement("div",{className:_,style:{...d,width:m}},t.createElement(i.Z,{showError:g,message:w}),t.createElement(n.Z,{htmlFor:`field-${h.replace(/\./gi,"__")}`,label:v,required:o}),t.createElement("input",{id:`field-${h.replace(/\./gi,"__")}`,value:E||"",onChange:b,disabled:y,type:"password",autoComplete:p,name:h}))}))},92962:(e,a,l)=>{l.d(a,{Z:()=>u});var t=l(67294),r=l(90666),n=l(953),i=l(77070);l(87376);const o="radio-input",s=e=>{const{isSelected:a,option:l,onChange:r,path:n}=e,i=[o,a&&`${o}--is-selected`].filter(Boolean).join(" "),s=`field-${n}-${l.value}`;return t.createElement("label",{htmlFor:s},t.createElement("div",{className:i},t.createElement("input",{id:s,type:"radio",checked:a,onChange:()=>"function"==typeof r?r(l.value):null}),t.createElement("span",{className:`${o}__styled-radio`}),t.createElement("span",{className:`${o}__label`},l.label)))};var c=l(83780);l(6129);const d="radio-group",u=e=>{const{name:a,path:l,required:o,label:u,readOnly:m,layout:p="horizontal",style:v,className:h,width:f,description:E,onChange:g,value:y,showError:b,errorMessage:w,options:_}=e,$=l||a,Z=["field-type",d,h,`${d}--layout-${p}`,b&&"error",m&&`${d}--read-only`].filter(Boolean).join(" ");return t.createElement("div",{className:Z,style:{...v,width:f}},t.createElement("div",{className:`${d}__error-wrap`},t.createElement(r.Z,{showError:b,message:w})),t.createElement(n.Z,{htmlFor:`field-${$}`,label:u,required:o}),t.createElement("ul",{id:`field-${$.replace(/\./gi,"__")}`,className:`${d}--group`},_.map((e=>{let a="";a=(0,c.optionIsObject)(e)?e.value:e;const l=String(a)===String(y);return t.createElement("li",{key:`${$} - ${a}`},t.createElement(s,{path:$,isSelected:l,option:(0,c.optionIsObject)(e)?e:{label:e,value:e},onChange:m?void 0:g}))}))),t.createElement(i.Z,{value:y,description:E}))}},41884:(e,a,l)=>{l.d(a,{Z:()=>C});var t=l(67294),r=l(10251),n=l.n(r),i=l(9034),o=l.n(i),s=l(9980),c=l(28630),d=l(90546),u=l.n(d),m=l(78870),p=l(48170),v=l(953),h=l(90666),f=l(77070),E=l(35193),g=l(64012);const y=e=>e.reduce(((e,a)=>a.options?[...e,...y(a.options)]:[...e,a.value]),[]),b=e=>e.sort(((e,a)=>{var l,t;return"function"==typeof(null===(l=null==e?void 0:e.label)||void 0===l?void 0:l.localeCompare)&&"function"==typeof(null===(t=null==a?void 0:a.label)||void 0===t?void 0:t.localeCompare)?e.label.localeCompare(a.label):0})),w=(e,a)=>{switch(a.type){case"CLEAR":return a.required?[]:[{value:"null",label:"None"}];case"ADD":{const{hasMultipleRelations:l,collection:t,relation:r,data:n,sort:i,ids:o=[]}=a,s=t.admin.useAsTitle||"id",c=y(e);if(!l){const a=[...e,...n.docs.reduce(((e,a)=>-1===c.indexOf(a.id)?(c.push(a.id),[...e,{label:a[s]||`Untitled - ID: ${a.id}`,value:a.id}]):e),[])];return o.forEach((e=>{c.includes(e)||a.push({label:"id"===s?e:`Untitled - ID: ${e}`,value:e})})),i?b(a):a}const d=[...e],u=d.find((e=>e.label===t.labels.plural)),m=n.docs.reduce(((e,a)=>-1===c.indexOf(a.id)?(c.push(a.id),[...e,{label:a[s]||`Untitled - ID: ${a.id}`,relationTo:r,value:a.id}]):e),[]);if(o.forEach((e=>{c.includes(e)||m.push({label:"id"===s?e:`Untitled - ID: ${e}`,value:e})})),u){const e=[...u.options,...m];u.options=i?b(e):e}else d.push({label:t.labels.plural,options:i?b(m):m,value:void 0});return d}default:return e}},_=({hasMany:e,relationTo:a,value:l})=>{const t=Array.isArray(a);let r;r=Array.isArray(a)?a.reduce(((e,a)=>({...e,[a]:[]})),{}):{[a]:[]};const n=(e,a)=>{"string"!=typeof a&&"number"!=typeof a||"string"!=typeof e||r[e].push(a)};if(e&&Array.isArray(l))l.forEach((e=>{t?n(e.relationTo,e.value):n(a,e)}));else if(t){const e=l;n(null==e?void 0:e.relationTo,null==e?void 0:e.value)}else n(a,l);return r};var $=l(45074),Z=l(10175);l(84414);const N="relationship",C=u()((e=>{const{relationTo:a,validate:l=E.relationship,path:r,name:i,required:d,label:u,hasMany:y,filterOptions:b,admin:{readOnly:C,style:k,className:S,width:M,description:x,condition:T}={}}=e,{serverURL:O,routes:{api:q},collections:D}=(0,s.Z)(),{id:B}=(0,$.x5)(),{user:L,permissions:P}=(0,c.a)(),{getData:j,getSiblingData:F}=(0,g.useWatchForm)(),R=(0,g.useFormProcessing)(),A=Array.isArray(a),[V,z]=(0,t.useReducer)(w,d||y?[]:[{value:null,label:"None"}]),[U,I]=(0,t.useState)(-1),[W,G]=(0,t.useState)(1),[H,K]=(0,t.useState)(""),[Q,Y]=(0,t.useState)(),[J,X]=(0,t.useState)(!1),[ee,ae]=(0,t.useState)(""),le=(0,t.useCallback)(((e,a)=>l(e,{...a,required:d})),[l,d]),{value:te,showError:re,errorMessage:ne,setValue:ie,initialValue:oe}=(0,p.Z)({path:r||i,validate:le,condition:T}),se=(0,t.useCallback)((async({lastFullyLoadedRelation:e,lastLoadedPage:l,search:t,value:r,sort:n})=>{if(!P)return;let i=void 0!==l?l:1;const s=void 0!==e?e:-1,c=Array.isArray(a)?a:[a],d=-1===s?c:c.slice(s+1);let u=0;const m=_({hasMany:y,relationTo:a,value:r});H||d.reduce((async(e,a)=>{var l;if(await e,u<10){const e=D.find((e=>e.slug===a)),r=(null===(l=null==e?void 0:e.admin)||void 0===l?void 0:l.useAsTitle)||"id",s={where:{and:[{id:{not_in:m[a]}}]},limit:10,page:i,sort:r,depth:0};t&&s.where.and.push({[r]:{like:t}}),(null==Q?void 0:Q[a])&&s.where.and.push(Q[a]);const d=await fetch(`${O}${q}/${a}?${o().stringify(s)}`);if(d.ok){const l=await d.json();l.docs.length>0&&(u+=l.docs.length,z({type:"ADD",data:l,relation:a,hasMultipleRelations:A,collection:e,sort:n}),G(l.page),l.nextPage||(I(c.indexOf(a)),c.indexOf(a)+1<c.length&&(i=1)))}else 403===d.status?(I(c.indexOf(a)),i=1,z({type:"ADD",data:{docs:[]},relation:a,hasMultipleRelations:A,collection:e,sort:n,ids:m[a]})):K("An error has occurred.")}}),Promise.resolve())}),[P,a,y,H,D,Q,O,q,A]),ce=(0,t.useCallback)((()=>{if(te){if(y)return Array.isArray(te)?te.map((e=>{if(A){let a;return V.forEach((l=>{l.options&&l.options.some((l=>(null==l?void 0:l.value)===e.value&&(a=l,!0)))})),a}return V.find((a=>a.value===e))})):void 0;if(A){let e;const a=te;return V.forEach((l=>{(null==l?void 0:l.options)&&l.options.some((l=>(null==l?void 0:l.value)===a.value&&(e=l,!0)))})),e}return V.find((e=>e.value===te))}}),[y,A,te,V]),de=((e,a)=>{const l=(0,t.useRef)();return(0,t.useCallback)(((...t)=>{clearTimeout(l.current),l.current=setTimeout((()=>{clearTimeout(l.current),e(...t)}),a)}),[e,a])})(((e,a)=>{se({search:e,value:a,sort:!0}),ae(e)}),[se]);(0,t.useEffect)((()=>{if(oe&&!J){const e=_({hasMany:y,relationTo:a,value:oe});Object.entries(e).reduce((async(e,[a,l])=>{if(await e,l.length>0){const e={where:{id:{in:l}},depth:0,limit:l.length};if(!H){const t=await fetch(`${O}${q}/${a}?${o().stringify(e)}`),r=D.find((e=>e.slug===a));if(t.ok){const e=await t.json();z({type:"ADD",data:e,relation:a,hasMultipleRelations:A,collection:r,sort:!0,ids:l})}else 403===t.status&&z({type:"ADD",data:{docs:[]},relation:a,hasMultipleRelations:A,collection:r,sort:!0,ids:l})}}}),Promise.resolve()),X(!0)}}),[y,A,a,oe,J,H,D,q,O]),(0,t.useEffect)((()=>{if(!b)return;const e=(0,Z.w)(b,{id:B,data:j(),relationTo:a,siblingData:F(r),user:L});n()(e,Q)||Y(e)}),[a,b,Q,B,j,F,r,L]),(0,t.useEffect)((()=>{!Q&&b||(X(!1),se({value:oe}))}),[oe,se,Q,b]);const ue=["field-type",N,S,re&&"error",H&&"error-loading",C&&`${N}--read-only`].filter(Boolean).join(" "),me=ce()||te;return"null"===(null==me?void 0:me.value)&&(me.value=null),t.createElement("div",{id:`field-${r.replace(/\./gi,"__")}`,className:ue,style:{...k,width:M}},t.createElement(h.Z,{showError:re,message:ne}),t.createElement(v.Z,{htmlFor:r,label:u,required:d}),!H&&t.createElement(m.Z,{isDisabled:C,onInputChange:e=>{return l=te,void(ee!==(a=e)&&de(a,l));var a,l},onChange:C?void 0:e=>{ie(y?e?e.map((e=>A?{relationTo:e.relationTo,value:e.value}:e.value)):null:A?{relationTo:e.relationTo,value:e.value}:e.value)},onMenuScrollToBottom:()=>{se({lastFullyLoadedRelation:U,lastLoadedPage:W+1,search:ee,value:oe,sort:!1})},value:me,showError:re,disabled:R,options:V,isMulti:y}),H&&t.createElement("div",{className:`${N}__error-loading`},H),t.createElement(f.Z,{value:te,description:x}))}))},67670:(e,a,l)=>{l.d(a,{Z:()=>v});var t=l(67294),r=l(90546),n=l.n(r),i=l(48170),o=l(35193),s=l(953),c=l(90666),d=l(77070),u=l(78870);l(33665);const m=e=>{const{showError:a,errorMessage:l,readOnly:r,path:n,label:i,required:o,value:m,onChange:p,description:v,style:h,className:f,width:E,options:g,hasMany:y,isClearable:b}=e,w=["field-type","select",f,a&&"error",r&&"read-only"].filter(Boolean).join(" ");let _;return _=y&&Array.isArray(m)?m.map((e=>g.find((a=>a.value===e)))):g.find((e=>e.value===m)),t.createElement("div",{id:`field-${n.replace(/\./gi,"__")}`,className:w,style:{...h,width:E}},t.createElement(c.Z,{showError:a,message:l}),t.createElement(s.Z,{htmlFor:`field-${n.replace(/\./gi,"__")}`,label:i,required:o}),t.createElement(u.Z,{onChange:p,value:_,showError:a,isDisabled:r,options:g,isMulti:y,isClearable:b}),t.createElement(d.Z,{value:m,description:v}))},p=e=>e.map((e=>"object"!=typeof e||!e.value&&""!==e.value?{label:e,value:e}:e)),v=n()((e=>{const{path:a,name:l,validate:r=o.select,label:n,options:s,hasMany:c,required:d,admin:{readOnly:u,style:v,className:h,width:f,description:E,isClearable:g,condition:y}={}}=e,b=a||l,[w,_]=(0,t.useState)(p(s));(0,t.useEffect)((()=>{_(p(s))}),[s]);const $=(0,t.useCallback)(((e,a)=>r(e,{...a,options:w,hasMany:c,required:d})),[r,d,c,w]),{value:Z,showError:N,setValue:C,errorMessage:k}=(0,i.Z)({path:b,validate:$,condition:y}),S=(0,t.useCallback)((e=>{if(!u){let a;a=e?c?Array.isArray(e)?e.map((e=>e.value)):[]:e.value:null,C(a)}}),[u,c,C]);return t.createElement(m,{path:b,onChange:S,value:Z,name:l,options:w,label:n,showError:N,errorMessage:k,required:d,description:E,style:v,className:h,width:f,hasMany:c,isClearable:g})}))},10175:(e,a,l)=>{l.d(a,{w:()=>t});const t=(e,a)=>{const{relationTo:l}=a,t=Array.isArray(l)?l:[l],r={};return void 0!==e&&t.forEach((l=>{r[l]="function"==typeof e?e(a):e})),r}},25896:(e,a,l)=>{l.d(a,{Z:()=>Te});var t=l(67294),r=l(40829);const n=(0,t.lazy)((()=>Promise.all([l.e(532),l.e(16)]).then(l.bind(l,29016)))),i=e=>t.createElement(t.Suspense,{fallback:t.createElement(r.Z,null)},t.createElement(n,{...e}));var o=l(28571),s=l(74020),c=l(48170),d=l(90546),u=l.n(d),m=l(35193),p=l(953),v=l(90666),h=l(77070);l(9226);const f=e=>{const{showError:a,errorMessage:l,placeholder:r,readOnly:n,path:i,label:o,required:s,value:c,onChange:d,description:u,style:m,className:f,width:E}=e,g=["field-type","text",f,a&&"error",n&&"read-only"].filter(Boolean).join(" ");return t.createElement("div",{className:g,style:{...m,width:E}},t.createElement(v.Z,{showError:a,message:l}),t.createElement(p.Z,{htmlFor:`field-${i.replace(/\./gi,"__")}`,label:o,required:s}),t.createElement("input",{id:`field-${i.replace(/\./gi,"__")}`,value:c||"",onChange:d,disabled:n,placeholder:r,type:"text",name:i}),t.createElement(h.Z,{value:c,description:u}))},E=u()((e=>{const{path:a,name:l,required:r,validate:n=m.text,label:i,minLength:o,maxLength:s,admin:{placeholder:d,readOnly:u,style:p,className:v,width:h,description:E,condition:g}={}}=e,y=a||l,b=(0,t.useCallback)(((e,a)=>n(e,{...a,minLength:o,maxLength:s,required:r})),[n,o,s,r]),w=(0,c.Z)({path:y,validate:b,enableDebouncedValue:!0,condition:g}),{value:_,showError:$,setValue:Z,errorMessage:N}=w;return t.createElement(f,{path:y,name:l,onChange:e=>{Z(e.target.value)},showError:$,errorMessage:N,required:r,label:i,value:_,placeholder:d,readOnly:u,style:p,className:v,width:h,description:E})}));var g=l(82626);l(21695);const y="date-time-field",b=u()((e=>{const{path:a,name:l,required:r,validate:n=m.date,label:i,admin:{placeholder:o,readOnly:s,style:d,className:u,width:f,date:E,description:b,condition:w}={}}=e,_=a||l,$=(0,t.useCallback)(((e,a)=>n(e,{...a,required:r})),[n,r]),{value:Z,showError:N,errorMessage:C,setValue:k}=(0,c.Z)({path:_,validate:$,condition:w}),S=["field-type",y,u,N&&`${y}--has-error`,s&&"read-only"].filter(Boolean).join(" ");return t.createElement("div",{className:S,style:{...d,width:f}},t.createElement("div",{className:`${y}__error-wrap`},t.createElement(v.Z,{showError:N,message:C})),t.createElement(p.Z,{htmlFor:_,label:i,required:r}),t.createElement("div",{id:`field-${_.replace(/\./gi,"__")}`,className:`${y}__input-wrapper`},t.createElement(g.Z,{...E,placeholder:o,readOnly:s,onChange:s?void 0:k,value:Z})),t.createElement(h.Z,{value:Z,description:b}))}));var w=l(76067),_=l(74007),$=l(41884);l(25536);const Z=e=>{const{path:a,required:l,readOnly:r,style:n,className:i,width:o,placeholder:s,description:c,label:d,showError:u,value:m,errorMessage:f,onChange:E,rows:g}=e,y=["field-type","textarea",i,u&&"error",r&&"read-only"].filter(Boolean).join(" ");return t.createElement("div",{className:y,style:{...n,width:o}},t.createElement(v.Z,{showError:u,message:f}),t.createElement(p.Z,{htmlFor:`field-${a.replace(/\./gi,"__")}`,label:d,required:l}),t.createElement("textarea",{id:`field-${a.replace(/\./gi,"__")}`,value:m||"",onChange:E,disabled:r,placeholder:s,name:a,rows:g}),t.createElement(h.Z,{value:m,description:c}))},N=u()((e=>{const{path:a,name:l,required:r,validate:n=m.textarea,maxLength:i,minLength:o,admin:{readOnly:s,style:d,className:u,width:p,placeholder:v,rows:h,description:f,condition:E}={},label:g}=e,y=a||l,b=(0,t.useCallback)(((e,a)=>n(e,{...a,required:r,maxLength:i,minLength:o})),[n,r,i,o]),{value:w,showError:_,setValue:$,errorMessage:N}=(0,c.Z)({path:y,validate:b,enableDebouncedValue:!0,condition:E});return t.createElement(Z,{path:y,name:l,onChange:e=>{$(e.target.value)},showError:_,errorMessage:N,required:r,label:g,value:w,placeholder:v,readOnly:s,style:d,className:u,width:p,description:f,rows:h})}));var C=l(67670);l(75712);const k=u()((e=>{const{name:a,path:l,required:r,validate:n=m.number,label:i,max:o,min:s,admin:{readOnly:d,style:u,className:f,width:E,step:g,placeholder:y,description:b,condition:w}={}}=e,_=l||a,$=(0,t.useCallback)(((e,a)=>n(e,{...a,min:s,max:o,required:r})),[n,s,o,r]),{value:Z,showError:N,setValue:C,errorMessage:k}=(0,c.Z)({path:_,validate:$,enableDebouncedValue:!0,condition:w}),S=(0,t.useCallback)((e=>{const a=parseFloat(e.target.value);Number.isNaN(a)?C(""):C(a)}),[C]),M=["field-type","number",f,N&&"error",d&&"read-only"].filter(Boolean).join(" ");return t.createElement("div",{className:M,style:{...u,width:E}},t.createElement(v.Z,{showError:N,message:k}),t.createElement(p.Z,{htmlFor:`field-${_.replace(/\./gi,"__")}`,label:i,required:r}),t.createElement("input",{id:`field-${_.replace(/\./gi,"__")}`,value:"number"==typeof Z?Z:"",onChange:S,disabled:d,placeholder:y,type:"number",name:_,step:g,onWheel:e=>{e.target.blur()}}),t.createElement(h.Z,{value:Z,description:b}))}));var S=l(75212);const M=(0,t.lazy)((()=>Promise.all([l.e(532),l.e(422)]).then(l.bind(l,98422)))),x=e=>t.createElement(t.Suspense,{fallback:t.createElement(r.Z,null)},t.createElement(M,{...e}));var T=l(92962);const O=u()((e=>{const{name:a,path:l,required:r,validate:n=m.radio,label:i,admin:{readOnly:o,layout:s="horizontal",style:d,className:u,width:p,description:v,condition:h}={},options:f}=e,E=l||a,g=(0,t.useCallback)(((e,a)=>n(e,{...a,options:f,required:r})),[n,f,r]),{value:y,showError:b,errorMessage:w,setValue:_}=(0,c.Z)({path:E,validate:g,condition:h});return t.createElement(T.Z,{path:E,name:a,onChange:o?void 0:_,value:y,showError:b,errorMessage:w,required:r,label:i,layout:s,style:d,className:u,width:p,description:v,options:f})}));l(52879);const q="point",D=u()((e=>{const{name:a,path:l,required:r,validate:n=m.point,label:i,admin:{readOnly:o,style:s,className:d,width:u,step:f,placeholder:E,description:g,condition:y}={}}=e,b=l||a,w=(0,t.useCallback)(((e,a)=>n(e,{...a,required:r})),[n,r]),{value:_=[null,null],showError:$,setValue:Z,errorMessage:N}=(0,c.Z)({path:b,validate:w,enableDebouncedValue:!0,condition:y}),C=(0,t.useCallback)(((e,a)=>{let l=parseFloat(e.target.value);Number.isNaN(l)&&(l=e.target.value);const t=[..._];t[a]=l,Z(t)}),[Z,_]),k=["field-type",q,d,$&&"error",o&&"read-only"].filter(Boolean).join(" ");return t.createElement("div",{className:k,style:{...s,width:u}},t.createElement(v.Z,{showError:$,message:N}),t.createElement("ul",{className:`${q}__wrap`},t.createElement("li",null,t.createElement(p.Z,{htmlFor:`field-longitude-${b.replace(/\./gi,"__")}`,label:`${i} - Longitude`,required:r}),t.createElement("input",{id:`field-longitude-${b.replace(/\./gi,"__")}`,value:_&&"number"==typeof _[0]?_[0]:"",onChange:e=>C(e,0),disabled:o,placeholder:E,type:"number",name:`${b}.longitude`,step:f})),t.createElement("li",null,t.createElement(p.Z,{htmlFor:`field-latitude-${b.replace(/\./gi,"__")}`,label:`${i} - Latitude`,required:r}),t.createElement("input",{id:`field-latitude-${b.replace(/\./gi,"__")}`,value:_&&"number"==typeof _[1]?_[1]:"",onChange:e=>C(e,1),disabled:o,placeholder:E,type:"number",name:`${b}.latitude`,step:f}))),t.createElement(h.Z,{value:_,description:g}))})),B=(0,t.lazy)((()=>Promise.all([l.e(532),l.e(171),l.e(778)]).then(l.bind(l,81778)))),L=e=>t.createElement(t.Suspense,{fallback:t.createElement(r.Z,null)},t.createElement(B,{...e}));var P=l(5590),j=l(83780),F=l(87319);l(38655);const R=(0,t.createContext)(!1),A=({children:e,withinGroup:a=!0})=>t.createElement(R.Provider,{value:a},e),V=(0,t.createContext)(!1),z=({children:e,withinTab:a=!0})=>t.createElement(V.Provider,{value:a},e),U="group-field",I=u()((e=>{const{label:a,fields:l,name:r,path:n,fieldTypes:i,admin:{readOnly:o,style:s,className:c,width:d,description:u,hideGutter:m=!1},permissions:p}=e,v=(0,F.uR)(),f=(0,t.useContext)(R),E=(0,t.useContext)(V),g=n||r;return t.createElement("div",{id:`field-${g.replace(/\./gi,"__")}`,className:["field-type",U,v&&`${U}--within-collapsible`,f&&`${U}--within-group`,E&&`${U}--within-tab`,!m&&f&&`${U}--gutter`,c].filter(Boolean).join(" "),style:{...s,width:d}},t.createElement(A,null,t.createElement("div",{className:`${U}__wrap`},(a||u)&&t.createElement("header",{className:`${U}__header`},a&&t.createElement("h3",{className:`${U}__title`},a),t.createElement(h.Z,{value:null,description:u})),t.createElement(P.Z,{permissions:null==p?void 0:p.fields,readOnly:o,fieldTypes:i,fieldSchema:l.map((e=>({...e,path:`${g}${(0,j.fieldAffectsData)(e)?`.${e.name}`:""}`})))}))))})),W=(0,t.lazy)((()=>Promise.all([l.e(532),l.e(171),l.e(892)]).then(l.bind(l,46892)))),G=e=>t.createElement(t.Suspense,{fallback:t.createElement(r.Z,null)},t.createElement(W,{...e}));l(1745);const H=u()((e=>{const{fields:a,fieldTypes:l,path:r,permissions:n,admin:{readOnly:i,className:o}}=e,s=["field-type","row",o].filter(Boolean).join(" ");return t.createElement(P.Z,{readOnly:i,className:s,permissions:null==n?void 0:n.fields,fieldTypes:l,fieldSchema:a.map((e=>({...e,path:`${r?`${r}.`:""}${(0,j.fieldAffectsData)(e)?e.name:""}`})))})}));var K=l(22158),Q=l(27924),Y=l(91455),J=l(45074);l(15139);const X="collapsible-field",ee=u()((e=>{const{label:a,fields:l,fieldTypes:r,path:n,permissions:i,admin:{readOnly:o,className:s,description:c}}=e,{getPreference:d,setPreference:u}=(0,Y.G)(),{preferencesKey:m}=(0,J.x5)(),[p,v]=(0,t.useState)(),[f]=(0,t.useState)((()=>`collapsible-${(0,Q.default)(a)}`)),E=(0,t.useCallback)((async e=>{var a;const l=await d(m);u(m,{...l,fields:{...(null==l?void 0:l.fields)||{},[f]:{...null===(a=null==l?void 0:l.fields)||void 0===a?void 0:a[f],collapsed:e}}})}),[m,f,d,u]);return(0,t.useEffect)((()=>{(async()=>{var e,a;const l=await d(m);v(Boolean(null===(a=null===(e=null==l?void 0:l.fields)||void 0===e?void 0:e[f])||void 0===a?void 0:a.collapsed))})()}),[d,m,f]),"boolean"!=typeof p?null:t.createElement(t.Fragment,null,t.createElement(K.z,{initCollapsed:p,className:["field-type",X,s].filter(Boolean).join(" "),header:t.createElement("div",{className:`${X}__label`},a),onToggle:E},t.createElement(P.Z,{forceRender:!0,readOnly:o,permissions:null==i?void 0:i.fields,fieldTypes:r,fieldSchema:l.map((e=>({...e,path:`${n?`${n}.`:""}${(0,j.fieldAffectsData)(e)?e.name:""}`})))})),t.createElement(h.Z,{description:c}))}));l(98221);const ae="tabs-field",le=u()((e=>{const{tabs:a,fieldTypes:l,path:r,permissions:n,admin:{readOnly:i,className:o}}=e,s=(0,F.uR)(),[c,d]=(0,t.useState)(0),u=a[c];return t.createElement("div",{className:[o,ae,s&&`${ae}--within-collapsible`].filter(Boolean).join(" ")},t.createElement(z,null,t.createElement("div",{className:`${ae}__tabs`},a.map(((e,a)=>t.createElement("button",{key:a,type:"button",className:[`${ae}__tab-button`,c===a&&`${ae}__tab-button--active`].filter(Boolean).join(" "),onClick:()=>d(a)},e.label)))),t.createElement("div",{className:`${ae}__content-wrap`},u&&t.createElement("div",{className:[`${ae}__tab`,`${ae}__tab-${(0,Q.default)(u.label)}`].join(" ")},t.createElement(h.Z,{className:`${ae}__description`,description:u.description}),t.createElement(P.Z,{forceRender:!0,readOnly:i,permissions:null==n?void 0:n.fields,fieldTypes:l,fieldSchema:u.fields.map((e=>({...e,path:`${r?`${r}.`:""}${(0,j.fieldAffectsData)(e)?e.name:""}`})))})))))}));var te=l(9980),re=l(71851),ne=l(77329),ie=l(29580),oe=l(28630),se=l(39599),ce=l(93313),de=l(46268),ue=l(56054),me=l(28019);l(62805);const pe="add-upload-modal",ve=e=>{var a,l;const{collection:r,collection:{admin:{description:n}={}}={},slug:i,fieldTypes:o,setValue:s}=e,{permissions:c}=(0,oe.a)(),{serverURL:d,routes:{api:u}}=(0,te.Z)(),{closeAll:m}=(0,re.useModal)(),p=(0,t.useCallback)((e=>{m(),s(e.doc)}),[m,s]),v=[pe].filter(Boolean).join(" "),h=null===(l=null===(a=null==c?void 0:c.collections)||void 0===a?void 0:a[r.slug])||void 0===l?void 0:l.fields;return t.createElement(re.Modal,{className:v,slug:i},t.createElement(se.Z,{width:"wide"},t.createElement(ce.Z,{method:"post",action:`${d}${u}/${r.slug}`,onSuccess:p,disableSuccessStatus:!0,validationOperation:"create"},t.createElement("header",{className:`${pe}__header`},t.createElement("div",null,t.createElement("h1",null,"New"," ",r.labels.singular),t.createElement(de.Z,null,"Save"),t.createElement(ne.Z,{icon:"x",round:!0,buttonStyle:"icon-label",iconStyle:"with-border",onClick:m})),n&&t.createElement("div",{className:`${pe}__sub-header`},t.createElement(me.Z,{description:n}))),t.createElement(ue.Z,{collection:r}),t.createElement(P.Z,{permissions:h,readOnly:!1,fieldTypes:o,fieldSchema:r.fields}))))};var he=l(10251),fe=l.n(he),Ee=l(47489),ge=l(21280),ye=l(56628),be=l(27656),we=l(64267),_e=l(10254),$e=l(10175),Ze=l(64012);l(10389);const Ne="select-existing-upload-modal",Ce=e=>{var a,l;const{setValue:r,collection:n,collection:{slug:i,admin:{description:o,pagination:{defaultLimit:s}}={}}={},slug:c,path:d,filterOptions:u}=e,{serverURL:m,routes:{api:p}}=(0,te.Z)(),{id:v}=(0,J.x5)(),{user:h}=(0,oe.a)(),{getData:f,getSiblingData:E}=(0,Ze.useWatchForm)(),{closeAll:g,currentModal:y}=(0,re.useModal)(),[b]=(0,t.useState)((()=>(0,_e.Z)(n))),[w,_]=(0,t.useState)(s),[$,Z]=(0,t.useState)(null),[N,C]=(0,t.useState)(null),[k,S]=(0,t.useState)(null),[M,x]=(0,t.useState)(),T=[Ne].filter(Boolean).join(" "),O=y===c,q=O?`${m}${p}/${i}`:null,[{data:D},{setParams:B}]=(0,Ee.Z)(q,{});return(0,t.useEffect)((()=>{const e={};k&&(e.page=k),N&&(e.where={and:[N,M]}),$&&(e.sort=$),w&&(e.limit=w),B(e)}),[B,k,$,N,w,M]),(0,t.useEffect)((()=>{if(!u||!O)return;const e=(0,$e.w)(u,{id:v,relationTo:i,data:f(),siblingData:E(d),user:h})[i];fe()(e,M)||x(e)}),[i,u,M,v,f,E,d,h,O]),t.createElement(re.Modal,{className:T,slug:c},O&&t.createElement(se.Z,{width:"wide"},t.createElement("header",{className:`${Ne}__header`},t.createElement("div",null,t.createElement("h1",null," ","Select existing"," ",n.labels.singular),t.createElement(ne.Z,{icon:"x",round:!0,buttonStyle:"icon-label",iconStyle:"with-border",onClick:g})),o&&t.createElement("div",{className:`${Ne}__sub-header`},t.createElement(me.Z,{description:o}))),t.createElement(ge.Z,{collection:{...n,fields:b},enableColumns:!1,enableSort:!0,modifySearchQuery:!1,handleSortChange:Z,handleWhereChange:C}),t.createElement(be.Z,{docs:null==D?void 0:D.docs,collection:n,onCardClick:e=>{r(e),g()}}),t.createElement("div",{className:`${Ne}__page-controls`},t.createElement(ye.Z,{limit:D.limit,totalPages:D.totalPages,page:D.page,hasPrevPage:D.hasPrevPage,hasNextPage:D.hasNextPage,prevPage:D.prevPage,nextPage:D.nextPage,numberOfNeighbors:1,onChange:S,disableHistoryChange:!0}),(null==D?void 0:D.totalDocs)>0&&t.createElement(t.Fragment,null,t.createElement("div",{className:`${Ne}__page-info`},D.page,"-",D.totalPages>1?D.limit:D.totalDocs," ","of"," ",D.totalDocs),t.createElement(we.Z,{limits:null===(l=null===(a=null==n?void 0:n.admin)||void 0===a?void 0:a.pagination)||void 0===l?void 0:l.limits,limit:w,modifySearchParams:!1,handleChange:_})))))};l(40349);const ke="upload",Se=e=>{const{path:a,required:l,readOnly:r,style:n,className:i,width:o,description:s,label:c,relationTo:d,fieldTypes:u,value:m,onChange:f,showError:E,serverURL:g="http://localhost:3000",api:y="/api",collection:b,errorMessage:w,filterOptions:_}=e,{toggle:$}=(0,re.useModal)(),Z=`${a}-add`,N=`${a}-select-existing`,[C,k]=(0,t.useState)(void 0),[S,M]=(0,t.useState)(!1),x=["field-type",ke,i,E&&"error",r&&"read-only"].filter(Boolean).join(" ");return(0,t.useEffect)((()=>{if("string"==typeof m&&""!==m){(async()=>{const e=await fetch(`${g}${y}/${d}/${m}`);if(e.ok){const a=await e.json();k(a)}else M(!0),k(void 0)})()}else k(void 0)}),[m,d,y,g]),t.createElement("div",{className:x,style:{...n,width:o}},t.createElement(v.Z,{showError:E,message:w}),t.createElement(p.Z,{htmlFor:`field-${a.replace(/\./gi,"__")}`,label:c,required:l}),(null==b?void 0:b.upload)&&t.createElement(t.Fragment,null,C&&!S&&t.createElement(ie.Z,{collection:b,doc:C,handleRemove:()=>{f(null)}}),(!C||S)&&t.createElement("div",{className:`${ke}__wrap`},t.createElement(ne.Z,{buttonStyle:"secondary",onClick:()=>{$(Z)}},"Upload new"," ",b.labels.singular),t.createElement(ne.Z,{buttonStyle:"secondary",onClick:()=>{$(N)}},"Choose from existing")),t.createElement(ve,{collection:b,slug:Z,fieldTypes:u,setValue:f}),t.createElement(Ce,{collection:b,slug:N,setValue:f,addModalSlug:Z,filterOptions:_,path:a}),t.createElement(h.Z,{value:C,description:s})))},Me=u()((e=>{const{collections:a,serverURL:l,routes:{api:r}}=(0,te.Z)(),{path:n,name:i,required:o,admin:{readOnly:s,style:d,className:u,width:p,description:v,condition:h}={},label:f,validate:E=m.upload,relationTo:g,fieldTypes:y,filterOptions:b}=e,w=a.find((e=>e.slug===g)),_=(0,t.useCallback)(((e,a)=>E(e,{...a,required:o})),[E,o]),$=(0,c.Z)({path:n,validate:_,condition:h}),{value:Z,showError:N,setValue:C,errorMessage:k}=$,S=(0,t.useCallback)((e=>{const a=(null==e?void 0:e.id)||e;C(a)}),[C]);return w.upload?t.createElement(Se,{path:n,value:Z,onChange:S,description:v,label:f,required:o,showError:N,serverURL:l,api:r,errorMessage:k,readOnly:s,style:d,className:u,width:p,collection:w,fieldTypes:y,name:i,relationTo:g,filterOptions:b}):null})),xe=u()((e=>{const{admin:{components:{Field:a}}}=e;return a?t.createElement(a,{...e}):null})),Te={code:i,email:o.Z,hidden:s.Z,text:E,date:b,password:w.Z,confirmPassword:_.Z,relationship:$.Z,textarea:N,select:C.Z,number:k,checkbox:S.Z,richText:x,point:D,radio:O,blocks:L,group:I,array:G,row:H,collapsible:ee,tabs:le,upload:Me,ui:xe}},26128:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(67294);l(65809);const r=()=>t.createElement("svg",{className:"icon icon--check",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25"},t.createElement("path",{d:"M10.6092 16.0192L17.6477 8.98076",className:"stroke",strokeLinecap:"square",strokeLinejoin:"bevel"}),t.createElement("path",{d:"M7.35229 12.7623L10.6092 16.0192",className:"stroke",strokeLinecap:"square",strokeLinejoin:"bevel"}))},51265:(e,a,l)=>{l.d(a,{Z:()=>r});var t=l(67294);l(42926);const r=()=>t.createElement("svg",{className:"icon icon--copy",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25"},t.createElement("rect",{x:"6.5",y:"10",width:"8",height:"8",className:"stroke"}),t.createElement("path",{d:"M10 9.98438V6.5H18V14.5H14",className:"stroke"}))},56054:(e,a,l)=>{l.d(a,{Z:()=>u});var t=l(67294),r=l(48170),n=l(77329),i=l(29580),o=l(90666);l(55307);const s="file-field",c=e=>{e.preventDefault(),e.stopPropagation()},d=e=>!(!e&&void 0!==e)||"A file is required.",u=e=>{var a,l;const u=(0,t.useRef)(null),m=(0,t.useRef)(null),[p,v]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),[E,g]=(0,t.useState)(0),[y,b]=(0,t.useState)(!1),{data:w={},collection:_}=e,{filename:$}=w,{value:Z,setValue:N,showError:C,errorMessage:k}=(0,r.Z)({path:"file",validate:d}),S=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g((e=>e+1)),e.dataTransfer.items&&e.dataTransfer.items.length>0&&f(!0)}),[]),M=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),g((e=>e-1)),E>1||f(!1)}),[E]),x=(0,t.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),f(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0?(N(e.dataTransfer.files[0]),f(!1),e.dataTransfer.clearData(),g(0)):f(!1)}),[N]),T=(0,t.useCallback)((()=>{var e,a;v(!1),N((null===(a=null===(e=null==u?void 0:u.current)||void 0===e?void 0:e.files)||void 0===a?void 0:a[0])||null)}),[u,N]);(0,t.useEffect)((()=>{p&&(u.current.click(),v(!1))}),[p,u,v]),(0,t.useEffect)((()=>{const e=m.current;return e?(e.addEventListener("dragenter",S),e.addEventListener("dragleave",M),e.addEventListener("dragover",c),e.addEventListener("drop",x),()=>{e.removeEventListener("dragenter",S),e.removeEventListener("dragleave",M),e.removeEventListener("dragover",c),e.removeEventListener("drop",x)}):()=>null}),[S,M,x,Z]),(0,t.useEffect)((()=>{b(!1)}),[w]);const O=[s,h&&`${s}--dragging`,"field-type"].filter(Boolean).join(" ");return t.createElement("div",{className:O},t.createElement(o.Z,{showError:C,message:k}),$&&!y&&t.createElement(i.Z,{doc:w,collection:_,handleRemove:()=>{b(!0),N(null)}}),(!$||y)&&t.createElement("div",{className:`${s}__upload`},Z&&t.createElement("div",{className:`${s}__file-selected`},t.createElement("span",{className:`${s}__filename`},Z.name),t.createElement(n.Z,{icon:"x",round:!0,buttonStyle:"icon-label",iconStyle:"with-border",onClick:()=>{N(null)}})),!Z&&t.createElement(t.Fragment,null,t.createElement("div",{className:`${s}__drop-zone`,ref:m},t.createElement(n.Z,{size:"small",buttonStyle:"secondary",onClick:()=>v(!0)},"Select a file"),t.createElement("span",{className:`${s}__drag-label`},"or drag and drop a file here"))),t.createElement("input",{ref:u,type:"file",accept:null===(l=null===(a=null==_?void 0:_.upload)||void 0===a?void 0:a.mimeTypes)||void 0===l?void 0:l.join(","),onChange:T})))}},55976:(e,a)=>{a.Z=function(e,a=0){if(0===e)return"0 bytes";const l=a<0?0:a,t=Math.floor(Math.log(e)/Math.log(1024));return`${parseFloat((e/1024**t).toFixed(l))}${[" bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}`}}}]);